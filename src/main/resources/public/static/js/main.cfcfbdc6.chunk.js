(this.webpackJsonpcleantoolfrontend=this.webpackJsonpcleantoolfrontend||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),o=t.n(c),l=(t(57),t(4)),s=t(5),i=t(7),m=t(6),d=(t(58),t(59),t(8)),p=t(13),u=t(14),v=t(24),h=t(47),y="GET_ERRORS",E={},f=t(9),b={services:[],service:{}},N={employees:[],employee:{}},g={assets:[],asset:{}},C={companyService:[]},O={employeeService:[]},S={availableResource:{}},k={companySecurityInfo:"",validToken:!1},j=function(e){return!!e},w={service_requests:[],availableEmployees:[]},x={available_time_slots:[]},_={data:{},isLoading:!1},A=Object(v.b)({application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"SHOW_LOADER":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0});case"HIDE_LOADER":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1})}},security:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_COMPANY":return Object(f.a)(Object(f.a)({},e),{},{companySecurityInfo:a.payload,validToken:j(a.payload)});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case y:return a.payload}},service:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_ALL_SERVICES":return Object(f.a)(Object(f.a)({},e),{},{services:a.payload});case"GET_SERVICE_BY_ID":return Object(f.a)(Object(f.a)({},e),{},{service:a.payload});case"DELETE_SERVICE_BY_ID":return Object(f.a)(Object(f.a)({},e),{},{services:e.services.filter((function(e){return e.serviceCode!==a.payload}))})}},companyService:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_COMPANY_SERVICE_BY_COMPANY_CODE":return Object(f.a)(Object(f.a)({},e),{},{companyService:a.payload})}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_ALL_COMPANY_EMPLOYEE":return Object(f.a)(Object(f.a)({},e),{},{employees:a.payload});case"GET_EMPLOYEE_BY_EMPLOYEE_CODE":return Object(f.a)(Object(f.a)({},e),{},{employee:a.payload});case"DELETE_EMPLOYEE_BY_ID":return Object(f.a)(Object(f.a)({},e),{},{employees:e.employees.filter((function(e){return e.employeeCode!==a.payload}))})}},employeeService:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_COMPANY_EMPLOYEE_SERVICE":return Object(f.a)(Object(f.a)({},e),{},{employeeService:a.payload})}},asset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_ALL_ASSETS_BY_COMPANY_CODE":return Object(f.a)(Object(f.a)({},e),{},{assets:a.payload});case"GET_ASSET_BY_ASSET_CODE":return Object(f.a)(Object(f.a)({},e),{},{asset:a.payload});case"DELETE_ASSET_BY_ASSET_CODE":return Object(f.a)(Object(f.a)({},e),{},{assets:e.assets.filter((function(e){return e.code!==a.payload}))})}},dashboardState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_DASHBOARD_REPORT":return Object(f.a)(Object(f.a)({},e),{},{availableResource:a.payload})}},serviceRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_ALL_SERVICE_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{service_requests:a.payload.service_requests});case"GET_ALL_AVAILABLE_EMPLOYEE":return Object(f.a)(Object(f.a)({},e),{},{availableEmployees:a.payload.availableEmployees})}},timeSlots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){default:return e;case"GET_COMPANY_AVAILABLE_TIME_SLOTS_BY_DATE":return Object(f.a)(Object(f.a)({},e),{},{available_time_slots:a.payload})}}}),R={},T=[h.a],D=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),M=window.navigator.userAgent.includes("Chrome")&&D?Object(v.d)(A,R,Object(v.c)(v.a.apply(void 0,T),D)):Object(v.d)(A,R,Object(v.c)(v.a.apply(void 0,T))),q=t(3),L=t.n(q),B=t(12),F=t(11),P=t.n(F),I=function(e){e?P.a.defaults.headers.common.Authorization=e:delete P.a.defaults.headers.common.Authorization},Y=t(26),G=t.n(Y),U=function(){return function(e){localStorage.removeItem("jwtToken"),localStorage.removeItem("companyCode"),I(!1),e({type:"SET_CURRENT_COMPANY",payload:{}})}},W=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).logOut=function(a){e.props.logOut(),window.location.href="/"},e}return Object(s.a)(t,[{key:"render",value:function(){var e,a=this.props.security,t=a.validToken,n=a.companySecurityInfo,c=r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{to:"/dashboard",className:"navbar-brand"},"Clean Master"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(p.b,{className:"nav-link dropdown-toggle",id:"service",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Services"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"service"},r.a.createElement(p.b,{className:"dropdown-item",to:"/addservice"},"Available Services"),r.a.createElement(p.b,{className:"dropdown-item"},"Manage Services"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(p.b,{className:"nav-link dropdown-toggle",id:"resources",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Resources"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"resources"},r.a.createElement(p.b,{className:"dropdown-item",to:"/employees"},"Employee Management"),r.a.createElement(p.b,{className:"dropdown-item",to:"/assetlist"},"Assets"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(p.b,{className:"nav-link dropdown-toggle",id:"transactions",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Transactions"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"transactions"},r.a.createElement(p.b,{className:"dropdown-item",to:"/servicerequests"},"Service Request"),r.a.createElement(p.b,{className:"dropdown-item"},"Assigned Employee")))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/updatecontacts"},r.a.createElement("i",{className:"fas fa-user-circle mr-1"})," ",n.companyCode)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/logout",className:"nav-link",onClick:this.logOut},"Logout"))))),o=r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{to:"/",className:"navbar-brand"},"Clean Master"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/registercompany"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/login",className:"nav-link"},"Login")))));return e=t&&null!=n.companyCode?c:o,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark"},e))}}]),t}(n.Component),V=Object(d.b)((function(e){return{security:e.security}}),{logOut:U})(W),H=t(1),Q=t.n(H),z=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={serviceCount:0,employeeCount:0,assetCount:0},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("companyCode");this.props.getDashboardReportbyCompanyCode(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.availableResource){var a=e.availableResource;this.setState({serviceCount:a.serviceCount,employeeCount:a.employeeCount,assetCount:a.assetCount})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-6"},r.a.createElement("b",{className:"text-muted"},"Available Resource"),r.a.createElement("table",{className:"table table-bordered text-center table-secondary"},r.a.createElement("thead",{className:"bg-danger"},r.a.createElement("tr",{className:"text-white"},r.a.createElement("th",null,"Service"),r.a.createElement("th",null,"Employee"),r.a.createElement("th",null,"Assets"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.state.serviceCount),r.a.createElement("td",null,this.state.employeeCount),r.a.createElement("td",null,this.state.assetCount)))))))}}]),t}(n.Component);z.propType={availableResource:Q.a.object.isRequired,getDashboardReportbyCompanyCode:Q.a.func.isRequired};var X=Object(d.b)((function(e){return{availableResource:e.dashboardState.availableResource}}),{getDashboardReportbyCompanyCode:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/dashboard/".concat(e));case 3:n=a.sent,t({type:"GET_DASHBOARD_REPORT",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(z),J=t(15),K=t(10),$=t.n(K),Z=function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/services",e);case 3:a.push("/"),n({type:y,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ee=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onUpdate=function(e){e.preventDefault();var a={id:n.state.id,serviceCode:n.state.serviceCode,serviceName:n.state.serviceName,noOfEmpReq:n.state.noOfEmpReq,create_at:n.state.create_at};n.props.createService(a,n.props.history)},n.state={id:"",serviceCode:"",serviceName:"",noOfEmpReq:"",create_at:"",errors:{}},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.serviceCode;this.props.getServiceByid(e,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors});var a=e.service,t=a.id,n=a.serviceCode,r=a.serviceName,c=a.noOfEmpReq,o=a.create_at;this.setState({id:t,serviceCode:n,serviceName:r,noOfEmpReq:c,create_at:o})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-primary text-center"},"Update Service"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("form",{onSubmit:this.onUpdate.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"servicecode"},"Service Code"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",name:"serviceCode",value:this.state.serviceCode,disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"servicename"},"Service Name"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.serviceName}),placeholder:"Service Name",name:"serviceName",value:this.state.serviceName,onChange:this.onChange}),e.serviceName&&r.a.createElement("div",{className:"invalid-feedback"},e.serviceName)),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"employeenumber"},"No. of Employee"),r.a.createElement("input",{type:"number",className:"form-control form-control-lg",name:"noOfEmpReq",value:this.state.noOfEmpReq,onChange:this.onChange}))),r.a.createElement("div",{className:"col"})),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary btn-block"})))))}}]),t}(n.Component),ae=Object(d.b)((function(e){return{service:e.service.service,errors:e.errors}}),{getServiceByid:function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/api/services/".concat(e));case 3:r=t.sent,n({type:"GET_SERVICE_BY_ID",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a.push("/");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},createService:Z})(ee),te=function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/company/employee",e);case 3:a.push("/employees"),n({type:y,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(B.a)(L.a.mark((function e(a){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/company/employee/company-employee");case 3:t=e.sent,a({type:"GET_ALL_COMPANY_EMPLOYEE",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},re=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{className:"btn btn-primary",to:"/addemployee"},"Add Employee"))},ce=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).onEmployeeDelete=function(a){e.props.deleteEmployeeByCode(a)},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.employee;return r.a.createElement("div",{className:"container mb-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header employee-card-header text-white"},e.firstName+" "+e.lastName,"  (",e.employeeCode,")"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h4",{className:"card-title"},e.area),r.a.createElement("p",{className:"card-text"},e.mobile)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(p.b,{to:"/updateemployee/".concat(e.employeeCode),className:"btn btn-info mb-2"},"Update"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onEmployeeDelete.bind(this,e.employeeCode)},"Delete"))))))}}]),t}(n.Component),oe=Object(d.b)(null,{deleteEmployeeByCode:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!window.confirm("Are you sure you want to delete this employee")){a.next=5;break}return a.next=4,P.a.delete("/api/company/employee/".concat(e));case 4:t({type:"DELETE_EMPLOYEE_BY_ID",payload:e});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(ce),le=function(){return function(e){e({type:y,payload:{}})}},se=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).onSearchHit=function(){M.dispatch((function(e){e({type:"SHOW_LOADER"})})),setTimeout((function(){M.dispatch((function(e){e({type:"HIDE_LOADER"})}))}),3e3)},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllCompanyEmployees()}},{key:"render",value:function(){var e=this.props.employee.employees;return r.a.createElement("div",{className:"container-fluid mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",placeholder:"--Search Employee by name/code/phone/email.",className:"form-control"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text",onClick:this.onSearchHit.bind(this)},r.a.createElement("i",{class:"fa fa-search","aria-hidden":"true"}))))),r.a.createElement("div",{className:"col-md-3 ml-auto"},r.a.createElement(re,null))),r.a.createElement("div",{className:"row wrapper-4-item my-4"},e.map((function(e){return r.a.createElement(oe,{key:e.employeeCode,employee:e})}))))}}]),t}(n.Component),ie=Object(d.b)((function(e){return{employee:e.employee,companyCode:e.security.companySecurityInfo.companyCode}}),{getAllCompanyEmployees:ne})(se),me=t(106),de=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.employee;return r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"d-inline text-lg h6"},"Full Name :"),r.a.createElement("p",{className:"d-inline"},e.firstName+" "+e.middleName+" "+e.lastName),r.a.createElement("br",null),r.a.createElement("p",{className:"d-inline text-lg h6"},"Mobile :"),r.a.createElement("p",{className:"d-inline"}," ",e.mobile),r.a.createElement("br",null),r.a.createElement("p",{className:"d-inline text-lg h6"},"Email :"),r.a.createElement("p",{className:"d-inline"}," ",e.email)),r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"d-inline text-lg h6"},"Date of Birth :"),r.a.createElement("p",{className:"d-inline"}," ",e.dateOfBirth),r.a.createElement("br",null),r.a.createElement("p",{className:"d-inline text-lg h6"},"Gender :"),r.a.createElement("p",{className:"d-inline"}," ",e.gender))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"d-inline text-lg h6"}," Adress : "),r.a.createElement("p",{className:"d-inline"},e.address+e.area+e.city+e.country+e.pinCode))))}}]),t}(n.Component),pe=Object(d.b)((function(){return{}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col"},r.a.createElement("div",{class:"alert alert-danger text-center",role:"alert"},e.errorMsg))))})),ue=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a=n.generateEmployeeObject();n.props.postEmployee(a,n.props.history)},n.openComfirmModal=function(e){e.preventDefault(),n.setState({confirmModalShow:!0})},n.closeComfirmModal=function(){n.setState({confirmModalShow:!1})},n.state={firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",mobile:"",email:"",area:"",address:"",city:"",country:"",pinCode:"",companyCode:"",errors:{},confirmModalShow:!1},n}return Object(s.a)(t,[{key:"generateEmployeeObject",value:function(){return{firstName:this.state.firstName,middleName:this.state.middleName,lastName:this.state.lastName,gender:this.state.gender,dateOfBirth:this.state.dateOfBirth,mobile:this.state.mobile,email:this.state.email,area:this.state.area,address:this.state.address,city:this.state.city,country:this.state.country,pinCode:this.state.pinCode,companyCode:this.props.companyCode}}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors,confirmModalShow:!1})}},{key:"componentWillUnmount",value:function(){this.props.resetErrorAction()}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-primary text-center"},"Add Employee"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:this.openComfirmModal.bind(this)},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"firstName"},"First Name *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.firstName}),placeholder:"First Name",name:"firstName",value:this.state.firstName,onChange:this.onChange}),e.firstName&&r.a.createElement("div",{className:"invalid-feedback"},e.firstName)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"middlename"},"Middle Name"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.middleName}),placeholder:"Middle Name",name:"middleName",value:this.state.middleName,onChange:this.onChange}),e.middleName&&r.a.createElement("div",{className:"invalid-feedback"},e.middleName)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.lastName}),placeholder:"Last Name",name:"lastName",value:this.state.lastName,onChange:this.onChange}),e.lastName&&r.a.createElement("div",{className:"invalid-feedback"},e.lastName))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"dob"},"Date of Birth"),r.a.createElement("input",{type:"date",className:$()("form-control",{"is-invalid":e.dateOfBirth}),placeholder:"Date of Birth",name:"dateOfBirth",value:this.state.dateOfBirth,onChange:this.onChange}),e.dateOfBirth&&r.a.createElement("div",{className:"invalid-feedback"},e.dateOfBirth)),r.a.createElement("div",{className:"form-group col-md-6 mt-4 pt-3"},r.a.createElement("label",{htmlFor:"gender",className:"mr-3"},"Gender * "),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"male",value:"male",checked:"male"===this.state.gender,onChange:this.onChange}),r.a.createElement("label",{className:"form-check-label"},"Male")),r.a.createElement("div",{className:"form-check form-check-inline mr-5"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"female",value:"female",checked:"female"===this.state.gender,onChange:this.onChange}),r.a.createElement("label",{className:"form-check-label"},"Female")),e.gender&&r.a.createElement("div",{className:"invalid-feedback"},e.gender))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"mobile"},"Mobile *"),r.a.createElement("input",{type:"number",className:$()("form-control",{"is-invalid":e.mobile}),placeholder:"Mobile",maxLength:"10",name:"mobile",value:this.state.mobile,onChange:this.onChange}),e.mobile&&r.a.createElement("div",{className:"invalid-feedback"},e.mobile)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Email *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.email}),placeholder:"Email",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"address"},"Address *"),r.a.createElement("textarea",{type:"text",className:$()("form-control",{"is-invalid":e.address}),placeholder:"Address",name:"address",value:this.state.address,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.address)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"area"},"Area *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.area}),placeholder:"Area",name:"area",value:this.state.area,onChange:this.onChange}),e.area&&r.a.createElement("div",{className:"invalid-feedback"},e.area)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"city"},"City *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.city}),placeholder:"City",name:"city",value:this.state.city,onChange:this.onChange}),e.city&&r.a.createElement("div",{className:"invalid-feedback"},e.city))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"country"},"Country *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.country}),placeholder:"City",name:"country",value:this.state.country,onChange:this.onChange}),e.country&&r.a.createElement("div",{className:"invalid-feedback"},e.country)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"pinCode"},"Pincode *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.pinCode}),placeholder:"Pincode",name:"pinCode",value:this.state.pinCode,onChange:this.onChange}),e.pinCode&&r.a.createElement("div",{className:"invalid-feedback"},e.pinCode)),r.a.createElement("div",{className:"form-group col-md-4 text-center"},r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary mt-4 mb-3"})))))),e.errorMsg&&r.a.createElement(pe,{errorMsg:e.errorMsg}),r.a.createElement(me.a,{show:this.state.confirmModalShow,onHide:this.closeComfirmModal,size:"lg",backdrop:"static",keyboard:!1,centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Confirm Employee Details")),r.a.createElement(me.a.Body,null,r.a.createElement(de,{employee:this.generateEmployeeObject()})),r.a.createElement(me.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:this.closeComfirmModal},"Cancel"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onSubmit},"Confirm"))))}}]),t}(n.Component),ve=Object(d.b)((function(e){return{errors:e.errors,companyCode:e.security.companySecurityInfo.companyCode}}),{postEmployee:te,resetErrorAction:le})(ue),he=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a=n.generateEmployeeObject();console.log(a),n.props.postEmployee(a,n.props.history)},n.openComfirmModal=function(e){e.preventDefault(),n.setState({confirmModalShow:!0})},n.closeComfirmModal=function(){n.setState({confirmModalShow:!1})},n.state={id:"",firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",mobile:"",email:"",area:"",address:"",city:"",pinCode:"",country:"",employeeCode:"",created_at:"",errors:{}},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getEmployeeByEmployeeCode(this.props.match.params.employeecode)}},{key:"componentWillReceiveProps",value:function(e){if(e.employee){var a=e.employee,t=a.id,n=a.firstName,r=a.middleName,c=a.lastName,o=a.gender,l=a.dateOfBirth,s=a.mobile,i=a.email,m=a.area,d=a.address,p=a.city,u=a.pinCode,v=a.country,h=a.employeeCode,y=a.created_at;this.setState({id:t,firstName:n,middleName:r,lastName:c,gender:o,dateOfBirth:l,mobile:s,email:i,area:m,address:d,city:p,pinCode:u,country:v,employeeCode:h,created_at:y,confirmModalShow:!1})}e.errors&&this.setState({errors:e.errors})}},{key:"generateEmployeeObject",value:function(){return{id:this.state.id,firstName:this.state.firstName,middleName:this.state.middleName,lastName:this.state.lastName,gender:this.state.gender,dateOfBirth:this.state.dateOfBirth,mobile:this.state.mobile,email:this.state.email,area:this.state.area,address:this.state.address,city:this.state.city,country:this.state.country,pinCode:this.state.pinCode,employeeCode:this.state.employeeCode,companyCode:this.props.companyCode}}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-primary text-center"},"Update Employee"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:this.openComfirmModal.bind(this)},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"firstName"},"First Name *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.firstName}),placeholder:"First Name",name:"firstName",value:this.state.firstName,onChange:this.onChange,disabled:!0}),e.firstName&&r.a.createElement("div",{className:"invalid-feedback"},e.firstName)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"middlename"},"Middle Name"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.middleName}),placeholder:"Middle Name",name:"middleName",value:this.state.middleName,onChange:this.onChange}),e.middleName&&r.a.createElement("div",{className:"invalid-feedback"},e.middleName)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.lastName}),placeholder:"Last Name",name:"lastName",value:this.state.lastName,onChange:this.onChange}),e.lastName&&r.a.createElement("div",{className:"invalid-feedback"},e.lastName))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"dob"},"Date of Birth"),r.a.createElement("input",{type:"date",className:$()("form-control",{"is-invalid":e.dateOfBirth}),placeholder:"Date of Birth",name:"dateOfBirth",value:this.state.dateOfBirth,onChange:this.onChange}),e.dateOfBirth&&r.a.createElement("div",{className:"invalid-feedback"},e.dateOfBirth)),r.a.createElement("div",{className:"form-group col-md-6 mt-4 pt-3"},r.a.createElement("label",{htmlFor:"gender",className:"mr-3"},"Gender * "),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"male",value:"male",checked:"male"===this.state.gender,onChange:this.onChange}),r.a.createElement("label",{className:"form-check-label"},"Male")),r.a.createElement("div",{className:"form-check form-check-inline mr-5"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"female",value:"female",checked:"female"===this.state.gender,onChange:this.onChange}),r.a.createElement("label",{className:"form-check-label"},"Female")),e.gender&&r.a.createElement("div",{className:"invalid-feedback"},e.gender))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"mobile"},"Mobile *"),r.a.createElement("input",{type:"number",className:$()("form-control",{"is-invalid":e.mobile}),placeholder:"Mobile",maxLength:"10",name:"mobile",value:this.state.mobile,onChange:this.onChange}),e.mobile&&r.a.createElement("div",{className:"invalid-feedback"},e.mobile)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Email *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.email}),placeholder:"Email",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"address"},"Address *"),r.a.createElement("textarea",{type:"text",className:$()("form-control",{"is-invalid":e.address}),placeholder:"Address",name:"address",value:this.state.address,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.address)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"area"},"Area *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.area}),placeholder:"Area",name:"area",value:this.state.area,onChange:this.onChange}),e.area&&r.a.createElement("div",{className:"invalid-feedback"},e.area)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"city"},"City *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.city}),placeholder:"City",name:"city",value:this.state.city,onChange:this.onChange}),e.city&&r.a.createElement("div",{className:"invalid-feedback"},e.city))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"country"},"Country *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.country}),placeholder:"Country",name:"country",value:this.state.country,onChange:this.onChange}),e.country&&r.a.createElement("div",{className:"invalid-feedback"},e.country)),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"pinCode"},"Pincode *"),r.a.createElement("input",{type:"text",className:$()("form-control",{"is-invalid":e.pinCode}),placeholder:"Pincode",name:"pinCode",value:this.state.pinCode,onChange:this.onChange}),e.pinCode&&r.a.createElement("div",{className:"invalid-feedback"},e.pinCode)),r.a.createElement("div",{className:"form-group col-md-4 text-center"},r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary mt-4 mb-3"})))))),r.a.createElement(me.a,{show:this.state.confirmModalShow,onHide:this.closeComfirmModal,size:"lg",backdrop:"static",keyboard:!1,centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Confirm Employee Details")),r.a.createElement(me.a.Body,null,r.a.createElement(de,{employee:this.generateEmployeeObject()})),r.a.createElement(me.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:this.closeComfirmModal},"Cancel"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onSubmit},"Confirm"))))}}]),t}(n.Component),ye=Object(d.b)((function(e){return{errors:e.errors,employee:e.employee.employee,companyCode:e.security.companySecurityInfo.companyCode}}),{postEmployee:te,getEmployeeByEmployeeCode:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/employee/".concat(e));case 3:n=a.sent,t({type:"GET_EMPLOYEE_BY_EMPLOYEE_CODE",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(he),Ee=function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/company-service/".concat(e));case 3:n=a.sent,t({type:"GET_COMPANY_SERVICE_BY_COMPANY_CODE",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},fe=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onhandleChange=function(e){var a=n.props.service.services,t=e.target.value;if(e.target.checked){var r=a.filter((function(e){return e.serviceCode===t}));n.setState({companyService:n.state.companyService.concat(r)})}else{var c=n.state.companyService.filter((function(e){return e.serviceCode!==t}));n.setState({companyService:c})}},n.onSubmit=function(e){e.preventDefault();for(var a,t=n.state.companyService,r=[],c=0;c<t.length;c++)r.push(t[c].serviceCode);a={companyCode:n.props.companyCode,serviceCodes:r},n.props.addCompanyService(a,n.props.history)},n.isServiceChecked=function(e){return n.state.companyService.some((function(a){return a.serviceCode===e}))},n.state={companyService:[]},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllServices(),this.props.getServiceByCompanyCode(this.props.companyCode)}},{key:"componentWillReceiveProps",value:function(e){e.companyService&&this.setState({companyService:e.companyService})}},{key:"render",value:function(){var e=this,a=this.props.service.services,t=function(e){return 0===e.length?r.a.createElement("div",{className:"alert alert-info text-center mt-5",role:"alert"},"Check services to add on board"):r.a.createElement("div",{className:"mx-5 my-3"},e.map((function(e){return r.a.createElement("div",{className:"input-group mb-1",key:e.serviceCode},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("input",{type:"checkbox",checked:!0,readOnly:!0}))),r.a.createElement("input",{type:"text",className:"form-control",value:e.serviceName,disabled:!0}))})))}(this.state.companyService);return r.a.createElement("div",{className:"container smooth-scroll list-unstyled mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"display-5 text-primary text-center"},r.a.createElement("b",null,"Add Service")),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm border border-dark mr-2"},r.a.createElement("div",{className:"mx-5 my-3"},a.map((function(a){return r.a.createElement("div",{className:"form-check mb-1",key:a.serviceCode},r.a.createElement("label",{className:"form-check-lable"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",value:a.serviceCode,checked:e.isServiceChecked(a.serviceCode),onChange:e.onhandleChange}),a.serviceName))})))),r.a.createElement("div",{className:"col-sm border border-dark"},t)),r.a.createElement("div",{className:"text-center my-3"},r.a.createElement("button",{className:"btn btn-success",onClick:this.onSubmit.bind(this)},"Submit")))}}]),t}(n.Component),be=Object(d.b)((function(e){return{service:e.service,companyService:e.companyService.companyService,companyCode:e.security.companySecurityInfo.companyCode}}),{getAllServices:function(){return function(){var e=Object(B.a)(L.a.mark((function e(a){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("api/services/all");case 3:t=e.sent,a({type:"GET_ALL_SERVICES",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},addCompanyService:function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/company/company-service",e);case 3:a.push("/"),n({type:y,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getServiceByCompanyCode:Ee})(fe),Ne=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a={serviceCode:n.state.serviceCode,serviceName:n.state.serviceName,noOfEmpReq:n.state.noOfEmpReq};n.props.createService(a,n.props.history)},n.state={serviceCode:"",serviceName:"",noOfEmpReq:"",errors:{}},n}return Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-primary text-center"},"Create Service"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"servicecode"},"Service Code"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.serviceCode}),placeholder:"service code",name:"serviceCode",value:this.state.serviceCode,onChange:this.onChange}),e.serviceCode&&r.a.createElement("div",{className:"invalid-feedback"},e.serviceCode)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"servicename"},"Service Name"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.serviceName}),placeholder:"service name",name:"serviceName",value:this.state.serviceName,onChange:this.onChange}),e.serviceName&&r.a.createElement("div",{className:"invalid-feedback"},e.serviceName)),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"employeenumber"},"No. of Employee "),r.a.createElement("input",{type:"number",className:"form-control form-control-lg",placeholder:"no. of emp",name:"noOfEmpReq",value:this.state.noOfEmpReq,onChange:this.onChange}))),r.a.createElement("div",{className:"col"})),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary btn-block"})))))}}]),t}(n.Component),ge=Object(d.b)((function(e){return{errors:e.errors}}),{createService:Z})(Ne),Ce=t(50),Oe=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.companyService;return r.a.createElement("div",{className:"wrapper-3-item"},a.map((function(a){return r.a.createElement("div",{className:"form-check",key:a.serviceCode},r.a.createElement("label",{className:"form-check-lable"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",value:a.serviceCode,onChange:function(a){return e.props.onServiceChecked(a,e.props.employeeCode)},checked:e.props.isServiceChecked(e.props.employeeCode,a.serviceCode)}),a.serviceName))})))}}]),t}(n.Component),Se=t(32),ke=t.n(Se),je=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onServiceChecked=function(e,a){var t=n.state.hmEmployeeService,r=e.target.value,c=e.target.checked;if(t.has(a)){var o=[];o=t.get(a),c?(o.push(r),t.set(a,o)):(o=o.filter((function(e){return e!==r})),t.set(a,o))}else{if(c)(o=[]).push(r),t.set(a,o)}n.setState({hmEmployeeService:t})},n.isServiceChecked=function(e,a){var t=n.state.hmEmployeeService;return!!t.has(e)&&t.get(e).some((function(e){return e===a}))},n.onSubmit=function(e){e.preventDefault();var a,t,r=n.state.hmEmployeeService,c=[],o=Object(Ce.a)(r.keys());try{for(o.s();!(t=o.n()).done;){var l,s=t.value;if(0!==(l=r.get(s)).length){var i={employeeCode:s,serviceCodes:l};c.push(i)}}}catch(m){o.e(m)}finally{o.f()}a={employeeServices:c,companyCode:n.props.companyCode},console.log("Final Object : ",a),n.props.postEmployeeService(a,n.props.history)},n.state={employees:[],employeeService:[],companyService:[],hmEmployeeService:new ke.a},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.companyCode;this.props.getAllCompanyEmployees(e),this.props.getCompanyEmployeeService(),this.props.getServiceByCompanyCode(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.employees&&this.setState({employees:e.employees}),e.companyService&&this.setState({companyService:e.companyService}),e.employeeService){var a=e.employeeService;if(a.length>0){for(var t=new ke.a,n=0;n<a.length;n++)t.set(a[n].employeeCode,a[n].serviceCodes);this.setState({hmEmployeeService:t})}}}},{key:"render",value:function(){var e=this,a=this.state,t=a.employees,n=a.companyService;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"display-5 text-primary text-center"},r.a.createElement("b",null,"Assign Service")),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table table-bordered "},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",{scope:"col"},"Employee"),r.a.createElement("th",{scope:"col-6"},"Select service to assign"))),r.a.createElement("tbody",null,t.map((function(a){return r.a.createElement("tr",{key:a.employeeCode},r.a.createElement("td",{className:"text-center"},a.firstName+" "+a.lastName),r.a.createElement("td",{className:"text-justify"},r.a.createElement(Oe,{employeeCode:a.employeeCode,companyService:n,onServiceChecked:e.onServiceChecked,isServiceChecked:e.isServiceChecked})))}))))),r.a.createElement("div",{className:"text-center my-3 "},r.a.createElement("button",{className:"btn btn-success",onClick:this.onSubmit.bind(this)},"Submit")))}}]),t}(n.Component);je.propType={employees:Q.a.array.isRequired,getAllCompanyEmployees:Q.a.func.isRequired,getCompanyEmployeeService:Q.a.func.isRequired,company_selected_service:Q.a.array.isRequired,postEmployeeService:Q.a.func.isRequired,companyCode:Q.a.string.isRequired};var we=Object(d.b)((function(e){return{employees:e.employee.employees,employeeService:e.employeeService.employeeService,companyService:e.companyService.companyService,companyCode:e.security.companySecurityInfo.companyCode}}),{getAllCompanyEmployees:ne,getCompanyEmployeeService:function(){return function(){var e=Object(B.a)(L.a.mark((function e(a){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/company/employeeservice");case 3:t=e.sent,a({type:"GET_COMPANY_EMPLOYEE_SERVICE",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},getServiceByCompanyCode:Ee,postEmployeeService:function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("FInal Object : ",JSON.stringify(e)),t.next=4,P.a.post("/api/company/employeeservice",e);case 4:n({type:"GET_COMPANY_EMPLOYEE_SERVICE",payload:[]}),a.push("/employeelist"),n({type:y,payload:{}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({action:y,payload:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})(je),xe=function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/company/asset",e);case 3:a.push("/assetlist"),n({type:y,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a={code:n.state.code,name:n.state.name,quantity:n.state.quantity,companyCode:n.props.companyCode};n.props.postAsset(a,n.props.history)},n.state={code:"",name:"",quantity:"",errors:{}},n}return Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-center text-primary"},"Create Asset"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"code"},"Asset Code"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.code}),placeholder:"Asset Code",value:this.state.code,name:"code",onChange:this.onChange}),e.code&&r.a.createElement("div",{className:"invalid-feedback"},e.code)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Asset Name"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Asset Name",value:this.state.name,name:"name",onChange:this.onChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity"),r.a.createElement("input",{type:"number",className:"form-control form-control-lg",placeholder:"Quantity",value:this.state.quantity,name:"quantity",onChange:this.onChange}))),r.a.createElement("div",{className:"col"})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",value:"Submit"})))))}}]),t}(n.Component);_e.propType={postAsset:Q.a.func.isRequired,errors:Q.a.object.isRequired,companyCode:Q.a.string.isRequired};var Ae=Object(d.b)((function(e){return{errors:e.errors,companyCode:e.security.companySecurityInfo.companyCode}}),{postAsset:xe})(_e),Re=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{className:"btn btn-primary",to:"/createasset"},"Add Asset"))},Te=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).onClick=function(a){e.props.history.push("/updateasset/".concat(a))},e.onDelete=function(a){e.props.deleteAssetByCode(a)},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.asset;return r.a.createElement("div",{className:"container mb-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header asset-card-header text-white"},e.name+"-"+e.code),r.a.createElement("div",{className:"card-body asset-card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"card-title"},"Qty:"+e.quantity)),r.a.createElement("div",{className:"col"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true",onClick:this.onClick.bind(this,e.code)}),r.a.createElement("i",{className:"fa fa-trash ml-3",onClick:this.onDelete.bind(this,e.code)}))))))}}]),t}(n.Component);Te.propType={deleteAssetByCode:Q.a.func.isRequired};var De=Object(d.b)((function(e){return{}}),{deleteAssetByCode:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!window.confirm("Are you sure you want to delete this asset")){a.next=5;break}return a.next=4,P.a.delete("/api/company/asset/".concat(e));case 4:t({type:"DELETE_ASSET_BY_ASSET_CODE",payload:e});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(Te),Me=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllCompanyAssets(this.props.companyCode)}},{key:"render",value:function(){var e=this,a=this.props.asset.assets;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(Re,null))),r.a.createElement("div",{className:"wrapper-5-item my-4"},a.map((function(a){return r.a.createElement(De,{key:a.id,asset:a,history:e.props.history})}))))}}]),t}(n.Component);Me.propType={asset:Q.a.object.isRequired,getAllCompanyAssets:Q.a.func.isRequired,companyCode:Q.a.string.isRequired};var qe=Object(d.b)((function(e){return{asset:e.asset,companyCode:e.security.companySecurityInfo.companyCode}}),{getAllCompanyAssets:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/asset/companyasset/".concat(e));case 3:n=a.sent,t({type:"GET_ALL_ASSETS_BY_COMPANY_CODE",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(Me),Le=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a={id:n.state.id,code:n.state.code,companyCode:n.state.companyCode,name:n.state.name,quantity:n.state.quantity};n.props.postAsset(a,n.props.history)},n.state={id:"",code:"",name:"",quantity:"",companyCode:"",errors:{}},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getAssetByAssetCode(this.props.match.params.assetcode)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors});var a=e.asset,t=a.id,n=a.code,r=a.name,c=a.companyCode,o=a.quantity;this.setState({id:t,code:n,name:r,companyCode:c,quantity:o})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-center text-primary"},"Update Asset"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"code"},"Asset Code"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",name:"code",value:this.state.code,onChange:this.onChange,disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Asset Name"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.name}),name:"name",value:this.state.name,onChange:this.onChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"quantity"},"Asset Quantity"),r.a.createElement("input",{type:"number",className:"form-control form-control-lg",name:"quantity",value:this.state.quantity,onChange:this.onChange}))),r.a.createElement("div",{className:"col"})),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary btn-block"})))))}}]),t}(n.Component);Le.propType={getAssetByAssetCode:Q.a.func.isRequired,postAsset:Q.a.func.isRequired,asset:Q.a.object.isRequired,errors:Q.a.object.isRequired};var Be=Object(d.b)((function(e){return{asset:e.asset.asset,errors:e.errors}}),{postAsset:xe,getAssetByAssetCode:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/asset/".concat(e));case 3:n=a.sent,t({type:"GET_ASSET_BY_ASSET_CODE",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(Le),Fe=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-bg"},r.a.createElement("div",{className:"container text-center pt-5"},r.a.createElement("div",{className:"border rounded-lg border-warning p-5"},r.a.createElement(p.b,{className:"btn btn-lg btn-danger mr-2",to:"/registercompany"},"Sign Up"),r.a.createElement(p.b,{className:"btn btn-lg btn-danger mr-2",to:"/login"},"Login"),r.a.createElement("br",null),r.a.createElement("i",{className:"justify-content font-weight-bold"},"Register your company & gets our service"))))}}]),t}(n.Component),Pe=Object(d.b)((function(e){return{security:e.security}}))(Fe),Ie=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmite=function(e){e.preventDefault();var a={companyName:n.state.companyName,companyCode:n.state.companyCode,address:n.state.address,email:n.state.email};n.props.createNewCompany(a,n.props.history)},n.state={companyName:"",companyCode:"",address:"",email:"",errors:""},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h4",{className:"display-4 text-primary text-center"},"Register Company"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:this.onSubmite.bind(this)},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"companyName"},"Company Name"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.companyName}),placeholder:"Company Name",name:"companyName",value:this.state.companyName,onChange:this.onChange}),e.companyName&&r.a.createElement("div",{className:"invalid-feedback"},e.companyName)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Company Contact Email",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"companyCode"},"Company Code"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.companyCode}),placeholder:"Company Code",name:"companyCode",value:this.state.companyCode,onChange:this.onChange}),e.companyCode&&r.a.createElement("div",{className:"invalid-feedback"},e.companyCode)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("textarea",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.address}),placeholder:"Address",name:"address",value:this.state.address,onChange:this.onChange}),e.address&&r.a.createElement("div",{className:"invalid-feedback"},e.address)),r.a.createElement("div",{className:"text-center"},r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-primary"}))))))}}]),t}(n.Component),Ye=Object(d.b)((function(e){return{errors:e.errors,security:e.security}}),{createNewCompany:function(e,a){return function(){var t=Object(B.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/users/company",e);case 3:a.push("/login"),n({type:y,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Ie),Ge=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var a={username:n.state.username,password:n.state.password};n.props.loginCompany(a)},n.state={username:"",password:"",errors:{}},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.security.validToken&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login-bg"},r.a.createElement("div",{className:"container login-card"},r.a.createElement("div",{className:"card bg-info text-white"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"companycode"},"Company Code"),r.a.createElement("input",{type:"text",className:$()("form-control form-control-lg",{"is-invalid":e.username}),placeholder:"Company Code",name:"username",onChange:this.onChange}),e.username&&r.a.createElement("div",{className:"invalid-feedback"},e.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"companycode"},"Password"),r.a.createElement("input",{type:"password",className:$()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"text-center"},r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-outline-light btn-block"})))))))}}]),t}(n.Component),Ue=Object(d.b)((function(e){return{errors:e.errors,security:e.security}}),{loginCompany:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n,r,c,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.post("api/users/authenticate",e);case 3:n=a.sent,r=n.data.jwt,localStorage.setItem("jwtToken",r),localStorage.setItem("companyCode",e.username),I(r),c=G()(r),o={companyCode:e.username,jwtInfo:c},t({type:"SET_CURRENT_COMPANY",payload:o}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}})(Ge),We=t(51),Ve=["component","security"],He=Object(d.b)((function(e){return{security:e.security}}))((function(e){var a=e.component,t=e.security,n=Object(We.a)(e,Ve);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){return!0===t.validToken?r.a.createElement(a,e):r.a.createElement(u.a,{to:"/login"})}}))})),Qe=(t(45),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).onItemClick=function(a){e.props.openServiceReqDetailModal(a)},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.serviceRequest;return r.a.createElement("div",{className:"border border-primary rounded my-1 p-.5 ",onClick:this.onItemClick.bind(this,e.id)},r.a.createElement("p",{class:"font-weight-bold "},e.serviceName," (",e.serviceCode,")"),r.a.createElement("p",{class:"font-weight-bold "}," at ",e.scheduleTime," ")," ",r.a.createElement("hr",{className:"divider"}),r.a.createElement("p",{class:"font-weight-bold "}," ",e.serviceReqCode," "))}}]),t}(n.Component)),ze=t(49),Xe=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).handleSelect=function(e){n.setState({selectedEmployee:e})},n.onSubmit=function(e){var a=n.props.serviceRequest;if(100===a.statusCode){var t={serviceReqCode:a.serviceReqCode,assignedEmployeeCode:n.state.selectedEmployee.employeeCode};n.props.postAssignEmployeeRequest(t),n.props.closeServiceReqDetailModal(!0)}else n.props.closeServiceReqDetailModal(!1)},n.state={selectedEmployee:{}},n}return Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.errors.assignedEmployeeCode&&(alert("Please select employee."),M.dispatch({type:y,payload:{}})),e.availableEmployeeCode){var a=[],t=e.availableEmployeeCode;e.arrAllEmployee.forEach((function(e){t.includes(e.employeeCode)&&a.push(e)})),this.setState({arrAvailableEmployee:a})}}},{key:"render",value:function(){var e,a=this,t=this.props,n=t.serviceRequest,c=t.availableEmployees;return e=100===n.statusCode?r.a.createElement(ze.a,{name:"Select Employee",options:c,getOptionLabel:function(e){return e.firstName+e.lastName},getOptionValue:function(e){return e.employeeCode},onChange:function(e,t){return a.handleSelect(e)}}):r.a.createElement("div",null,r.a.createElement("div",{className:"font-weight-bold"},n.assignedEmployeeName," (",n.assignedEmployeeCode,") "),r.a.createElement("div",{className:"font-weight-bold"}," Ph: ",n.assignedEmployeeMobile)),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body boder-danger"},r.a.createElement("h5",{className:"card-title d-inline"},"User : ",n.mobileUserName),r.a.createElement("h5",{className:"card-title d-inline ml-5"},"Code : ",n.mobileUserCode),r.a.createElement("table",{className:"table table-bordered mt-2"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Service Name"),r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"Time"),r.a.createElement("th",{scope:"col"},"Assigne Employee"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n.serviceName),n.scheduleDate&&r.a.createElement("td",null,n.scheduleDate),n.scheduleTime&&r.a.createElement("td",null,n.scheduleTime," hrs"),r.a.createElement("td",null,e))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement("button",{className:"btn btn-success btn-md center-block",style:{width:100},onClick:this.onSubmit.bind(this)},"OK"),r.a.createElement("button",{className:"btn btn-danger btn-md center-block ml-5",style:{width:100},onClick:this.props.closeServiceReqDetailModal.bind(this,!1)},"Cancel")))))}}]),t}(n.Component);var Je=Object(d.b)((function(e){return{errors:e.errors}}),{postAssignEmployeeRequest:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.post("/api/company/service-request/assignee-employee",e);case 3:n=a.sent,console.log(n),t({type:"POST_ASSIGN_EMPLOYEE_REQUEST",payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})(Xe),Ke=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){return Object(l.a)(this,t),a.call(this,e)}return Object(s.a)(t,[{key:"render",value:function(){var e=[],a=this.props,t=a.availableTimeSlots,n=a.onGenerateTimeSlotsClicks;if(null!=t&&t.length>0)for(var c=0;c<t.length;c++){var o=t[c],l="btn btn-info btn-sm m-1";0===o.availableEmployeeCount&&(l="btn btn-danger btn-sm m-1"),e.push(r.a.createElement("div",{className:l},o.time," hrs",r.a.createElement("br",null),r.a.createElement("span",{class:"badge badge-light"},o.availableEmployeeCount," emp")))}else e.push(r.a.createElement("button",{className:"btn btn-outline-danger",onClick:n.bind(this)},"Generate Time Slots"));return r.a.createElement("div",{className:"container"},r.a.createElement("h6",{className:"font-weight-bold"},"Available Time Slots "),r.a.createElement("div",{className:"row"},e))}}]),t}(n.Component),$e=Object(d.b)((function(e){return{}}),{})(Ke),Ze=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).openServiceReqDetailModal=function(e){var a=n.props.service_requests.filter((function(a){return a.id===e}))[0];n.setState({showServiceReqDetailModal:!0,selectedServiceReq:a})},n.closeServiceReqDetailModal=function(e){n.setState({showServiceReqDetailModal:!1,selectedServiceReq:{}},(function(){e&&(M.dispatch((function(e){e({type:"SHOW_LOADER"})})),setTimeout((function(){n.props.getAllServiceRequest(),n.props.getAllAvailableEmployees({date:n.state.selected_date}),n.props.getCompanyAvailableTimeSlotsByDate(n.state.selected_date)}),2e3))}))},n.onDateSelected=function(e){n.setState({selected_date:e.target.value},(function(){n.props.getCompanyAvailableTimeSlotsByDate(n.state.selected_date)}))},n.onGenerateTimeSlotsClicks=function(e){e.preventDefault();var a={currentDate:n.state.selected_date,startTime:"08:00",endTime:"18:00"};n.props.generateCompanyTimeSlotsForDate(a)},n.state={showServiceReqDetailModal:!1,selectedServiceReq:{},selected_date:(new Date).toISOString().split("T")[0],isLoading:!1},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){M.dispatch((function(e){e({type:"SHOW_LOADER"})})),this.props.resetErrorAction(),this.props.getAllServiceRequest(),this.props.getAllAvailableEmployees({date:this.state.selected_date}),this.props.getCompanyAvailableTimeSlotsByDate(this.state.selected_date)}},{key:"componentWillReceiveProps",value:function(e){e.available_time_slots&&M.dispatch((function(e){e({type:"HIDE_LOADER"})}))}},{key:"componentWillUnmount",value:function(){this.props.resetErrorAction()}},{key:"render",value:function(){var e=this.props,a=e.service_requests,t=e.available_time_slots,n=e.errors,c=this.state.selected_date,o=[],l=[],s=[],i=[],m=[],d=[];if(null!=a&&a.length>0){for(var p=0;p<a.length;p++){var u=a[p];u.scheduleDate===c&&o.push(r.a.createElement(Qe,{key:u.id,serviceRequest:u,openServiceReqDetailModal:this.openServiceReqDetailModal}))}for(var v=0;v<o.length;v++){var h=o[v],y=h.props.serviceRequest.statusCode;100===y?l.push(h):101===y?s.push(h):102===y?i.push(h):103===y?m.push(h):d.push(h)}}return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-md-3"},r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("h6",{className:"font-weight-bold"},"Date"),r.a.createElement("input",{type:"date",className:"form-control",value:this.state.selected_date,name:"selected_date",onChange:this.onDateSelected}))),r.a.createElement("div",{className:"col-9 my-2"},r.a.createElement($e,{availableTimeSlots:t,onGenerateTimeSlotsClicks:this.onGenerateTimeSlotsClicks}))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"py-1 bg-primary text-center text-white"},r.a.createElement("h6",null,"Pending")),l),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"py-1 text-center bg-secondary text-white"},r.a.createElement("h6",null,"Assigned")),s),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"py-1 text-center bg-warning text-white"},r.a.createElement("h6",null,"In-Progress")),i),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"py-1 text-center bg-success text-white"},r.a.createElement("h6",null,"Completed")),m),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"py-1 bg-info text-center bg-danger text-white"},r.a.createElement("h6",null,"Cancelled")),d),r.a.createElement("div",{className:"col-md-1"})),n.errorMsg&&r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(pe,{errorMsg:n.errorMsg})),r.a.createElement(me.a,{show:this.state.showServiceReqDetailModal,onHide:this.closeServiceReqDetailModal,size:"lg",backdrop:"static",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{className:"text-secondary"},this.state.selectedServiceReq.serviceReqCode)),r.a.createElement(me.a.Body,null,r.a.createElement(Je,{serviceRequest:this.state.selectedServiceReq,availableEmployees:this.props.availableEmployees,closeServiceReqDetailModal:this.closeServiceReqDetailModal}))))}}]),t}(n.Component),ea=Object(d.b)((function(e){return{service_requests:e.serviceRequest.service_requests,availableEmployees:e.serviceRequest.availableEmployees,available_time_slots:e.timeSlots.available_time_slots,errors:e.errors}}),{getAllServiceRequest:function(){return function(){var e=Object(B.a)(L.a.mark((function e(a){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/company/service-request/all");case 3:t=e.sent,a({type:"GET_ALL_SERVICE_REQUEST",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},getAllAvailableEmployees:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("request",e),a.next=4,P.a.post("/api/company/service-request/available-employee",e);case 4:n=a.sent,t({type:"GET_ALL_AVAILABLE_EMPLOYEE",payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},generateCompanyTimeSlotsForDate:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.post("/api/company/time-slots",e);case 3:n=a.sent,t({type:"GET_COMPANY_AVAILABLE_TIME_SLOTS_BY_DATE",payload:n.data.response}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},getCompanyAvailableTimeSlotsByDate:function(e){return function(){var a=Object(B.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/api/company/time-slots/".concat(e));case 3:n=a.sent,t({type:"GET_COMPANY_AVAILABLE_TIME_SLOTS_BY_DATE",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:y,payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},resetErrorAction:le})(Ze),aa=(t(103),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:"/gifassets/loader.gif"}))):null}}]),t}(n.Component)),ta=Object(d.b)((function(e){return{isLoading:e.application.isLoading}}))(aa),na=localStorage.getItem("jwtToken");if(na){I(na);var ra=G()(na),ca={companyCode:ra.sub,jwtInfo:ra};M.dispatch({type:"SET_CURRENT_COMPANY",payload:ca});var oa=Date.now()/1e3;ra.exp<oa&&(M.dispatch(U()),window.location.href="/")}var la=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:M},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(u.b,{exact:!0,path:"/",component:Pe}),r.a.createElement(u.b,{exact:!0,path:"/registercompany",component:Ye}),r.a.createElement(u.b,{exact:!0,path:"/login",component:Ue}),r.a.createElement(u.b,{exact:!0,path:"/createservice",component:ge}),r.a.createElement(u.d,null,r.a.createElement(He,{exact:!0,path:"/dashboard",component:X}),r.a.createElement(He,{exact:!0,path:"/updateservice/:serviceCode",component:ae}),r.a.createElement(He,{exact:!0,path:"/employees",component:ie}),r.a.createElement(He,{exact:!0,path:"/addemployee",component:ve}),r.a.createElement(He,{exact:!0,path:"/updateemployee/:employeecode",component:ye}),r.a.createElement(He,{exact:!0,path:"/addservice",component:be}),r.a.createElement(He,{exact:!0,path:"/assignservice",component:we}),r.a.createElement(He,{exact:!0,path:"/assetlist",component:qe}),r.a.createElement(He,{exact:!0,path:"/createasset",component:Ae}),r.a.createElement(He,{exact:!0,path:"/updateasset/:assetcode",component:Be}),r.a.createElement(He,{exact:!0,path:"/servicerequests",component:ea})),r.a.createElement(ta,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(la,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,a,t){},52:function(e,a,t){e.exports=t(104)},57:function(e,a,t){},59:function(e,a,t){}},[[52,1,2]]]);
//# sourceMappingURL=main.cfcfbdc6.chunk.js.map